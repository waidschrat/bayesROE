---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# bayesROE

<!-- badges: start -->
[![Lifecycle: stable](https://img.shields.io/badge/lifecycle-stable-brightgreen.svg)](https://lifecycle.r-lib.org/articles/stages.html#stable)

[![CRAN status](https://www.r-pkg.org/badges/version/bayesROE)](https://CRAN.R-project.org/package=bayesROE)
[![Codecov test coverage](https://codecov.io/gh/waidschrat/bayesROE/branch/main/graph/badge.svg)](https://app.codecov.io/gh/waidschrat/bayesROE?branch=main)
<!-- badges: end -->

The goal of bayesROE is to provide an R package and Shiny application for easy
computation and visualization of Bayesian Regions of Evidence as described by Hoefler 
and Miller (2023). [Project History on Open Science Framework](https://osf.io/jxnsv/). Such regions serve
to systematically probe the sensitivity of a superiority or non-inferiority claim a
gainst any prior assumption of its assessors. Thus, their presentation aids
research transparency and scientific evaluation of study findings.
Besides generic functions, the package also provides an intuitive user interface
for a Shiny application, that can be run in a local R environment.


## Installation

You can install the development version of bayesROE like so:

``` r
remotes::install_github(repo = "waidschrat/bayesROE", subdir = "pkg")
```

## Example

This is a basic example illustrates the Esketamine example for one non-inferiority and two superiority thresholds:

```{r example}
library(bayesROE)

# Arguments to reproduce Figure 3 (Appendix) from Hoefler and Miller (2023)
init <- list(ee = 9, se = 3.9, delta = c(0, 3.75), alpha = 0.025)
cols <- list(col_lower = "#F5FF82", col_upper = "#27CC1E")

# Plot Regions of Evidence
library(ggplot2)
HM23.3 <- ribbonROE(ee = init$ee, se = init$se, delta = init$delta, alpha = init$alpha, 
                    cols = c(cols$col_lower, cols$col_upper))$plot + 
  annotate(geom = "point", y = init$ee, x = init$se, shape = 4) +
  coord_flip(ylim = c(-5, 15))

# Alternatively Pass Arguments to Local Shiny Application
if(interactive()){
  run_app(init = init, cols = cols)
}
```


The resulting plot is shown here:

```{r HM23.3, echo = FALSE}
print(HM23.3)
```
